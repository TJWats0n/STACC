<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link href="static/css/style.css" rel="stylesheet" type="text/css">
    <link href="static/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css">
    <script src="static/js/jquery-1.12.0.min.js" charset="utf-8"></script>
    <script src="static/js/jquery.dataTables.min.js" charset="utf-8"></script>
    <link href="static/css/nv.d3.css" rel="stylesheet" type="text/css">
    <script src="static/js/d3.min.js" charset="utf-8"></script>
    <script src="static/js/nv.d3.min.js"></script>
    <title>MABED: Mention-anomaly-based Event Detection and Tracking in Twitter</title>
</head>
<body>
    <div id="navigation">

    </div>
    <div id="header">
        <h1>Mention-anomaly-based Event Detection and Tracking in Twitter</h1>
        <p>
            Parameters: k=10, theta=0.6, sigma=0.6<br>
            <a href="#event_table">Event table</a> - <a href="#event_impact">Event impact</a>
        </p>
    </div>
    <div class="main-content">
        <section id="event_table">Event table</section>
            <table id="events" class="display" cellspacing="0" width="900px">
                <thead>
                    <tr>
                        <th>Mag</th>
                        <th>Start date</th>
                        <th>End date</th>
                        <th>Main term</th>
                        <th>Related words</th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <td>47.808240887480196</td>
                        <td>2018-03-27 02:33:35</td>
                        <td>2018-03-27 04:03:35</td>
                        <td>appena, pubblicata, foto</td>
                        <td>whitney (0.98), museum (0.97), american (0.97), art (0.97)</td>
                    </tr>
                    
                    <tr>
                        <td>18.65847860538827</td>
                        <td>2018-03-26 14:33:35</td>
                        <td>2018-03-27 01:03:35</td>
                        <td>times, square, ny, manhattan, city, york</td>
                        <td>en (0.74), madison (0.73), garden (0.73), de (0.71), beautiful (0.71), kitchen (0.66), nyc (0.66), march (0.64), newyork (0.64), tonight (0.62)</td>
                    </tr>
                    
                    <tr>
                        <td>6.774960380348652</td>
                        <td>2018-03-26 19:33:35</td>
                        <td>2018-03-27 03:03:35</td>
                        <td>nyc</td>
                        <td>times (0.65), square (0.66), high (0.69), manhattan (0.61), show (0.65)</td>
                    </tr>
                    
                    <tr>
                        <td>5.266244057052298</td>
                        <td>2018-03-26 13:03:35</td>
                        <td>2018-03-26 17:33:35</td>
                        <td>happy</td>
                        <td>broadway (0.60), times (0.60)</td>
                    </tr>
                    
                    <tr>
                        <td>3.3898573692551506</td>
                        <td>2018-03-26 13:03:35</td>
                        <td>2018-03-26 19:33:35</td>
                        <td>monday</td>
                        <td>manhattan (0.68), week (0.65), times (0.70), square (0.66), view (0.84)</td>
                    </tr>
                    
                </tbody>
            </table>
        <section id="event_impact">Event impact</section>
        <svg id="chart1" style="height: 300px;"></svg>
    </div>
</body>
<script>
    $(document).ready(function() {
        $('#events').dataTable( {
            "order": [[ 0, 'desc' ]]
        } );
    });
</script>
<script>
    var event_impact = [{"key":"appena, pubblicata, foto", "values":[[1522064015000,0],[1522065815000,0],[1522067615000,0],[1522069415000,0],[1522071215000,0],[1522073015000,0],[1522074815000,0],[1522076615000,0],[1522078415000,0],[1522080215000,0],[1522082015000,0],[1522083815000,0],[1522085615000,0],[1522087415000,0],[1522089215000,0],[1522091015000,0],[1522092815000,0],[1522094615000,0],[1522096415000,0],[1522098215000,0],[1522100015000,0],[1522101815000,0],[1522103615000,0],[1522105415000,0],[1522107215000,0],[1522109015000,0],[1522110815000,0],[1522112615000,0],[1522114415000,0.3637083993660857],[1522116215000,11.914421553090333],[1522118015000,17.820919175911254],[1522119815000,17.70919175911252],[1522121615000,0],[1522123415000,0],[1522125215000,0]]},{"key":"times, square, ny, manhattan, city, york", "values":[[1522064015000,0],[1522065815000,0],[1522067615000,0],[1522069415000,0],[1522071215000,2.537242472266244],[1522073015000,0],[1522074815000,0],[1522076615000,1.6576862123613312],[1522078415000,0],[1522080215000,1.833597464342314],[1522082015000,2.833597464342314],[1522083815000,0],[1522085615000,0],[1522087415000,0],[1522089215000,0.09746434231378753],[1522091015000,0],[1522092815000,1.8011093502377178],[1522094615000,0],[1522096415000,6.27337559429477],[1522098215000,2.217908082408875],[1522100015000,2.921553090332805],[1522101815000,5.393819334389857],[1522103615000,0.21790808240887483],[1522105415000,0.12995245641838338],[1522107215000,0],[1522109015000,1.0974643423137875],[1522110815000,0],[1522112615000,0],[1522114415000,0],[1522116215000,0],[1522118015000,0],[1522119815000,0],[1522121615000,0],[1522123415000,0],[1522125215000,0]]},{"key":"nyc", "values":[[1522064015000,0],[1522065815000,0],[1522067615000,0],[1522069415000,0],[1522071215000,0],[1522073015000,0],[1522074815000,0],[1522076615000,0],[1522078415000,0],[1522080215000,0],[1522082015000,0],[1522083815000,0],[1522085615000,0],[1522087415000,0],[1522089215000,2.3264659270998416],[1522091015000,0],[1522092815000,1.7321711568938194],[1522094615000,0],[1522096415000,0.4278922345483358],[1522098215000,0],[1522100015000,0.2250396196513469],[1522101815000,0],[1522103615000,2.819334389857369],[1522105415000,0],[1522107215000,0],[1522109015000,2.3264659270998416],[1522110815000,0.5293185419968305],[1522112615000,0],[1522114415000,0.2250396196513469],[1522116215000,2.652931854199683],[1522118015000,0],[1522119815000,0],[1522121615000,0],[1522123415000,0],[1522125215000,0]]},{"key":"happy", "values":[[1522064015000,0],[1522065815000,0.7622820919175911],[1522067615000,0],[1522069415000,0],[1522071215000,0.7781299524564184],[1522073015000,0],[1522074815000,1.7702060221870046],[1522076615000,1.6988906497622822],[1522078415000,0],[1522080215000,0.7147385103011094],[1522082015000,0.7147385103011094],[1522083815000,0],[1522085615000,0],[1522087415000,0],[1522089215000,0],[1522091015000,0],[1522092815000,0],[1522094615000,0],[1522096415000,0],[1522098215000,0],[1522100015000,0],[1522101815000,0],[1522103615000,0],[1522105415000,0],[1522107215000,0],[1522109015000,0],[1522110815000,0],[1522112615000,0],[1522114415000,0],[1522116215000,0],[1522118015000,0],[1522119815000,0],[1522121615000,0],[1522123415000,0],[1522125215000,0]]},{"key":"monday", "values":[[1522064015000,0],[1522065815000,0.6434231378763866],[1522067615000,0],[1522069415000,0],[1522071215000,0.6671949286846275],[1522073015000,0.5602218700475436],[1522074815000,1.6553090332805072],[1522076615000,0],[1522078415000,0],[1522080215000,0],[1522082015000,0.572107765451664],[1522083815000,0],[1522085615000,0.5839936608557845],[1522087415000,0],[1522089215000,1.6077654516640254],[1522091015000,0],[1522092815000,0],[1522094615000,0],[1522096415000,0],[1522098215000,0],[1522100015000,0],[1522101815000,0],[1522103615000,0],[1522105415000,0],[1522107215000,0],[1522109015000,0],[1522110815000,0],[1522112615000,0],[1522114415000,0],[1522116215000,0],[1522118015000,0],[1522119815000,0],[1522121615000,0],[1522123415000,0],[1522125215000,0]]}]

    var colors = d3.scale.category20();

    var chart;
    nv.addGraph(function() {
        chart = nv.models.stackedAreaChart()
            .useInteractiveGuideline(true)
            .x(function(d) { return d[0] })
            .y(function(d) { return d[1] })
            .controlLabels({stacked: "Stacked"});

        chart.yAxis.scale().domain([0, 20]);
        chart.xAxis.tickFormat(function(d) { return d3.time.format('%x')(new Date(d)) });
        chart.yAxis.tickFormat(d3.format(',.4f'));
        chart.height(300);

        chart.legend.vers('furious');

        chart.showControls(false);

        d3.select('#chart1')
            .datum(event_impact)
            .call(chart)
            .each('start', function() {
                setTimeout(function() {
                    d3.selectAll('#chart1 *').each(function() {
                        if(this.__transition__)
                            this.__transition__.duration = 1;
                    })
                }, 0)
            });

        nv.utils.windowResize(chart.update);
        return chart;
    });
</script>
</html>